---
title: "Основы программирования в R"
author: "Алла Тамбовцева"
output:
  pdf_document:
    latex_engine: xelatex
mainfont: CMU Serif
header-includes:
- \usepackage[russian]{babel}
- \usepackage{hyperref}
- \hypersetup{colorlinks = true, urlcolor = blue, linkcolor=magenta}
---
# Практикум 2: векторы, матрицы, списки

### Задача 1

Создайте матрицу размерности $3 \times 4$, состоящую из 3, а затем измените некоторые её элементы так, чтобы получить следующее:

```
[3 3 4 3]
[1 3 3 3]
[3 NA 3 1]
```

```{r}
M <- matrix(3, nrow = 3, ncol = 4)
M
```

```{r}
M[1, 3] <- 4
M[2, 1] <- 1
M[3, 2] <- NA
M[3, 4] <- 1
M
```

### Задача 2

Создайте из векторов `a`, `b`, `c` матрицу, такую, что:

* векторы являются столбцами матрицы;
* векторы являются строками матрицы.

Векторы: 

```{r}
a <- c(1, 3, 4, 9, NA)
b <- c(5, 6, 7, 0, 2)
c <- c(9, 10, 13, 1, 20)
```

Дайте новые названия строкам и столбцам матрицы.

```{r}
m <- cbind(a, b, c)
m
```

```{r}
m2 <- rbind(a, b, c)
m2
```

```{r}
rownames(m2) <- c("one", "two", "three")
colnames(m2) <- LETTERS[1:5]
m2
```

Пример с удалением названий:

```{r}
rownames(m2) <- NULL
m2
```

### Задача 3

Может ли матрица состоять из элементов разных типов? 
Проверьте: составьте матрицу из следующих векторов (векторы записаны как столбцы матрицы):

```{r}
names <- c("Jane", "Michael", "Mary", "George")
ages <- c(8, 6, 28, 45)
gender <- c(0, 1, 0, 1)
cbind(names, ages, gender)
```

Если получилось не то, что хотелось, подумайте, как это можно исправить, не теряя информации, которая сохранена в векторах. Добавьте в матрицу столбец `age_sq` -- возраст в квадрате. 

```{r}
infoM <- cbind(ages, gender)
rownames(infoM) <- names
infoM
```

```{r}
age_sq <- ages ** 2
infoM <- cbind(infoM, age_sq)
infoM
```

### Задача 4

Создайте из векторов из задачи 3 список (*list*) и назовите его `info`.

```{r}
info <- list(names, ages, gender)
info
```

* Обращаясь к элементам списка, выведите на экран имя Michael.

```{r}
info[[1]][2]
```

* Обращаясь к элементам списка, выведите на экран вектор `gender`.

```{r}
info[[3]]
```

* Назовите векторы в списке `Name`, `Age`, `Gender`. Выведите на экран элементы вектора `Name`.

```{r}
names(info) <- c("Names", "Age", "Gender")
info
```


* Добавьте в список вектор `drinks`, в котором сохранены значения: juice, tea, rum, coffee.

```{r}
info$drinks <- c("juice", "tea", "rum", "coffee")
info
```

Переименуем: 

```{r}
names(info)[4] <- "Drinks"
info
```


* Добавьте в список данные по еще одному человеку: John, 2 года, мужской пол, любит молоко.

```{r}
info$Names[5] <- "John"
info$Age[5] <- 2
info$Gender[5] <- 1
info$Drinks[5] <- "milk"
info
```

### Задача 5

В R есть функция `strsplit()`, которая позволяет разбивать строки на части по определенным символам (аналог метода `.split()` в Python).

Пусть у нас есть строка `s`:

```{r}
s <- "a,b,c,d"
```

Мы хотим получить из неё вектор из 4 букв. Применям функцию:

```{r}
let <- strsplit(s, ",")
let
```

Получили почти то, что хотели. Почему почти? Потому что получили не вектор, а список!

```{r}
class(let)
## [1] "list"
```

Превратим в вектор:

```{r}
unlist(let)
## [1] "a" "b" "c" "d"
```

Теперь всё в порядке, получили вектор из четырёх элементов.

Теперь задание. Дана строка `index`:

```{r}
index <- "0,72;0,38;0,99;0,81;0,15;0,22;0,16;0,4;0,24"
```

```{r}
index2 <- unlist(strsplit(index, ";"))
index2
```

```{r}
I <- as.numeric(gsub(",", ".", index2))
I
```

Получите из этой строки числовой вектор `I`.